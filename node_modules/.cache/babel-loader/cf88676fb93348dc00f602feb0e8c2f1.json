{"ast":null,"code":"import { GET_WEATHER, SET_ERROR, SET_LOADING } from '../types';\nexport const getWeather = city => {\n  return async dispatch => {\n    try {\n      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${process.env.REACT_APP_API_KEY}`);\n\n      if (!res.ok) {\n        const resData = await res.json();\n        throw new Error(resData.message);\n      }\n\n      const resData = await res.json();\n      dispatch({\n        type: GET_WEATHER,\n        payload: resData\n      });\n    } catch (err) {\n      dispatch({\n        type: SET_ERROR,\n        payload: err.message\n      });\n    }\n  };\n};\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING\n  };\n};\nexport const setError = () => {\n  return {\n    type: SET_ERROR,\n    payload: ''\n  };\n};","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT PROJECT/wether-app-pwa/src/store/actions/weatherActions.ts"],"names":["GET_WEATHER","SET_ERROR","SET_LOADING","getWeather","city","dispatch","res","fetch","process","env","REACT_APP_API_KEY","ok","resData","json","Error","message","type","payload","err","setLoading","setError"],"mappings":"AAEA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,WAAjC,QAA8F,UAA9F;AAEA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAqE;AAC7F,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,qDAAoDH,IAAK,UAASI,OAAO,CAACC,GAAR,CAAYC,iBAAkB,EAAlG,CAAvB;;AACF,UAAG,CAACJ,GAAG,CAACK,EAAR,EAAY;AACV,cAAMC,OAAqB,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAApC;AACA,cAAM,IAAIC,KAAJ,CAAUF,OAAO,CAACG,OAAlB,CAAN;AACD;;AAED,YAAMH,OAAoB,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAnC;AACAR,MAAAA,QAAQ,CAAC;AACPW,QAAAA,IAAI,EAAEhB,WADC;AAEPiB,QAAAA,OAAO,EAAEL;AAFF,OAAD,CAAR;AAIC,KAZD,CAYE,OAAMM,GAAN,EAAW;AACXb,MAAAA,QAAQ,CAAC;AACPW,QAAAA,IAAI,EAAEf,SADC;AAEPgB,QAAAA,OAAO,EAAEC,GAAG,CAACH;AAFN,OAAD,CAAR;AAID;AACF,GAnBD;AAoBD,CArBM;AAuBP,OAAO,MAAMI,UAAU,GAAG,MAAqB;AAC7C,SAAO;AACLH,IAAAA,IAAI,EAAEd;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMkB,QAAQ,GAAG,MAAqB;AAC3C,SAAO;AACLJ,IAAAA,IAAI,EAAEf,SADD;AAELgB,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALM","sourcesContent":["import { ThunkAction } from 'redux-thunk';\r\nimport { RootState } from '../index';\r\nimport { GET_WEATHER, SET_ERROR, SET_LOADING, WeatherAction, WeatherData, WeatherError } from '../types';\r\n\r\nexport const getWeather = (city: string): ThunkAction<void, RootState, null, WeatherAction> => {\r\n  return async dispatch => {\r\n    try {\r\n      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${process.env.REACT_APP_API_KEY}`);\r\n    if(!res.ok) {\r\n      const resData: WeatherError = await res.json();\r\n      throw new Error(resData.message);\r\n    }\r\n\r\n    const resData: WeatherData = await res.json();\r\n    dispatch({\r\n      type: GET_WEATHER,\r\n      payload: resData\r\n    });\r\n    } catch(err) {\r\n      dispatch({\r\n        type: SET_ERROR,\r\n        payload: err.message\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const setLoading = (): WeatherAction => {\r\n  return {\r\n    type: SET_LOADING\r\n  }\r\n}\r\n\r\nexport const setError = (): WeatherAction => {\r\n  return {\r\n    type: SET_ERROR,\r\n    payload: ''\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}